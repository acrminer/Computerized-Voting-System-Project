<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>

<div class="wrapper">
  <h1>Dashboard</h1>
  <h2>Welcome, <span th:text="${user.username}" id="voterUsername"></span>!</h2>
    <p>Role detected: <span th:text="${user.role}" id="voterRole">unknown</span></p>

    <div th:if="${user.role == 'admin'}">
        <p> </p>
        <hr>
        <form id="addElectionForm">
            <h3>Create New Election</h3>

            <div class="input-box">
                <label for="electionName">Election Name:</label>
                <input type="text" id="electionName" name="electionName" required>
            </div>

            <div class="input-box">
                <label for="candidates">Candidates (comma-separated):</label>
                <input type="text" id="candidates" name="candidates" required>
            </div>

            <button class="btn" type="submit">Add Election</button>
        </form>
    </div><br>

    <hr>

    <h3>Current Elections</h3>
    <div id="electionList"></div>
    <template id="electionTemplate">
        <div class="election">
            <strong class="election-name"></strong><br>
            <div class="results"></div><br>
            <div class="voting-section"></div><br>
            <hr>
        </div>
    </template><br>
    <button class="btn" id="logoutButton">Logout</button>
</div>

<script th:src="@{/js/dashboard.js}"></script>
</body>
</html>